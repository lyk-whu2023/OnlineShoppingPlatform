import{g as A,d as I,c as N,u as U}from"./addresses-ChVVoOY5.js";import{_ as B,r as _,o as $,c as z,b,a as l,w as a,d,f as E,h as i}from"./index-DGdkDIp8.js";import"./http-CBG7w8uf.js";const M={class:"container"},S={style:{"margin-bottom":"12px"}},T={class:"table-actions"},j={__name:"AddressView",setup(q){const v=_([]),s=_(!1),t=_({id:null,name:"",phone:"",detail:""});async function r(){v.value=await A()}$(r);function c(){t.value={id:null,name:"",phone:"",detail:""},s.value=!0}function w(n){t.value={...n},s.value=!0}async function V(){const n={name:t.value.name,phone:t.value.phone,detail:t.value.detail,userId:Number(localStorage.getItem("userId"))};t.value.id?await U(t.value.id,n):await N(n),s.value=!1,await r()}async function y(n){await I(n),await r()}return(n,e)=>{const u=d("el-button"),m=d("el-table-column"),k=d("el-table"),p=d("el-input"),f=d("el-form-item"),C=d("el-form"),g=d("el-dialog");return E(),z("div",M,[b("div",S,[l(u,{type:"primary",onClick:c},{default:a(()=>[...e[5]||(e[5]=[i("新增地址",-1)])]),_:1})]),l(k,{data:v.value,style:{width:"100%"}},{default:a(()=>[l(m,{label:"收件人",width:"160",prop:"name"}),l(m,{label:"手机号",width:"160",prop:"phone"}),l(m,{label:"地址详情",prop:"detail"}),l(m,{label:"操作",width:"220"},{default:a(o=>[b("div",T,[l(u,{type:"primary",size:"small",onClick:x=>w(o.row)},{default:a(()=>[...e[6]||(e[6]=[i("编辑",-1)])]),_:1},8,["onClick"]),l(u,{type:"danger",size:"small",onClick:x=>y(o.row.id)},{default:a(()=>[...e[7]||(e[7]=[i("删除",-1)])]),_:1},8,["onClick"])])]),_:1})]),_:1},8,["data"]),l(g,{title:"编辑地址",modelValue:s.value,"onUpdate:modelValue":e[4]||(e[4]=o=>s.value=o)},{default:a(()=>[l(C,{"label-width":"100px"},{footer:a(()=>[l(u,{onClick:e[3]||(e[3]=o=>s.value=!1)},{default:a(()=>[...e[8]||(e[8]=[i("取消",-1)])]),_:1}),l(u,{type:"primary",onClick:V},{default:a(()=>[...e[9]||(e[9]=[i("保存",-1)])]),_:1})]),default:a(()=>[l(f,{label:"收件人"},{default:a(()=>[l(p,{modelValue:t.value.name,"onUpdate:modelValue":e[0]||(e[0]=o=>t.value.name=o)},null,8,["modelValue"])]),_:1}),l(f,{label:"手机号"},{default:a(()=>[l(p,{modelValue:t.value.phone,"onUpdate:modelValue":e[1]||(e[1]=o=>t.value.phone=o)},null,8,["modelValue"])]),_:1}),l(f,{label:"地址详情"},{default:a(()=>[l(p,{modelValue:t.value.detail,"onUpdate:modelValue":e[2]||(e[2]=o=>t.value.detail=o)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"])])}}},H=B(j,[["__scopeId","data-v-bf641f61"]]);export{H as default};
