<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">
<link rel="stylesheet" href="styles.css">
<title>订单提交</title>
</head>
<body>
<div class="header-fixed">
  <div class="container nav">
    <div class="brand">Shop</div>
    <div class="nav-actions">
      <el-select placeholder="分类" style="width:160px"><el-option label="手机" value="phone"></el-option><el-option label="电脑" value="pc"></el-option><el-option label="家电" value="appliance"></el-option></el-select>
      <el-input placeholder="搜索商品" style="width:360px"><el-button slot="append" type="primary" onclick="location.href='Product-List.html'">搜索</el-button></el-input>
      <el-button onclick="location.href='Cart.html'">购物车</el-button>
      <el-button onclick="location.href='User-Center.html'">个人中心</el-button>
    </div>
  </div>
 </div>
<div class="content">
  <div class="container">
    <div class="section-title">配送地址</div>
    <el-radio-group v-model="selectedAddress">
      <el-radio v-for="a in addresses" :key="a.id" :label="a.id">{{ a.name }} {{ a.phone }} {{ a.detail }}</el-radio>
    </el-radio-group>
    <div style="margin:12px 0"><el-button @click="addAddress">新增地址</el-button></div>
    <div class="section-title">商品结算</div>
    <el-table :data="items" style="width:100%">
      <el-table-column label="商品" prop="name"></el-table-column>
      <el-table-column label="数量" width="120"><template slot-scope="scope">{{ scope.row.qty }}</template></el-table-column>
      <el-table-column label="价格" width="120"><template slot-scope="scope">¥{{ scope.row.price.toFixed(2) }}</template></el-table-column>
      <el-table-column label="小计" width="120"><template slot-scope="scope">¥{{ (scope.row.price*scope.row.qty).toFixed(2) }}</template></el-table-column>
    </el-table>
    <div style="display:flex;justify-content:flex-end;align-items:center;margin-top:16px;gap:16px">
      <div>合计 ¥{{ total.toFixed(2) }}</div>
      <el-button type="primary" @click="submitOrder">提交订单</el-button>
    </div>
  </div>
  <div class="footer">© 2025 Shop</div>
</div>
<script src="https://unpkg.com/vue@2/dist/vue.js"></script>
<script src="https://unpkg.com/element-ui/lib/index.js"></script>
<script>
new Vue({
  el:'body',
  data:{
    addresses:[
      {id:'a1',name:'张三',phone:'13800000000',detail:'北京市朝阳区'},
      {id:'a2',name:'李四',phone:'13900000000',detail:'上海市浦东新区'}
    ],
    selectedAddress:'',
    items:[
      {name:'商品A',price:1999,qty:1},
      {name:'商品B',price:2999,qty:1}
    ]
  },
  computed:{
    total(){return this.items.reduce((s,i)=>s+i.price*i.qty,0)}
  },
  methods:{
    addAddress(){this.$message.info('打开新增地址弹窗')},
    submitOrder(){
      if(!this.selectedAddress){this.$message.warning('请选择配送地址');return}
      this.$message.success('创建订单成功');
      window.location.href='Order-Detail.html'
    }
  }
})
</script>
</body>
</html>
